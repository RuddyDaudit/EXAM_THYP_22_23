Examen THYP du 5 décembre 2022 

Ruddy Daudit

--------------------------------------------------------------------------------------------------------

struct blockchain
{
	unsigned char prevHash[256];
	int blockData;
	struct blockchain *link;	
}*head;

//SHA256(src,size,destination)
//src et destination sont des unsigned char*

void addBlock(int data){
	if(head==NULL){
		head = malloc(sizeof(struct blockchain));
		sha256("",sizeof(""),head->prevHash);
		head->blockData = data;
		return;
	}
	struct blockchain *currentBlock = head;
	while(currentBlock->link)
		currentBlock=currentBlock->link;
	struct blockchain *newBlock = malloc(sizeof(struct blockchain));
	currentBlock->link=newBlock;
	newBlock->blockData=data;
	sha256(toString(*currentBlock),sizeof(*currentBlock),newBlock->prevHash); 
}

Creation d'une structure de blockchain avec les fonction de creation des block -- #C
---------------------------------------------------------------------------------------------------

contract ZombieFactory is Ownable {

    event NewZombie(uint zombieId, string name, uint dna);

    uint dnaDigits = 16;
    uint dnaModulus = 10 ** dnaDigits;
    uint cooldownTime = 1 days;

    struct Zombie {
      string name;
      uint dna;
      uint32 level;
      uint32 readyTime;
      uint16 winCount;
      uint16 lossCount;
    }

    Zombie[] public zombies;

    mapping (uint => address) public zombieToOwner;
    mapping (address => uint) ownerZombieCount;

    function _createZombie(string _name, uint _dna) internal {
        uint id = zombies.push(Zombie(_name, _dna, 1, uint32(now + cooldownTime), 0, 0)) - 1;
        zombieToOwner[id] = msg.sender;
        ownerZombieCount[msg.sender]++;
        NewZombie(id, _name, _dna);
    }

Le smart contract de ma création de la faction de zombies -- Solidity
------------------------------------------------------------------------------------------------


d3.json("data/items.json").then(function(data)){
	console.log(data);
	d3.select('#main').selectAll('div')
});

Appel de fonction via JSON
---------------------------------------------------------------------------------------------------

